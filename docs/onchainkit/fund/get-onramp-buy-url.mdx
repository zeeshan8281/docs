---
title: getOnrampBuyUrl
---

The `getOnrampBuyUrl` utility is a helper method to generate a Coinbase Onramp URL. It helps you customize the funding
experience for your users. For example:

- Setting a default buy/send amount, defaultAsset, or defaultNetwork
- Setting a redirect URL to return your users to your app after they complete the fund flow

<Info>
**Session Token Required:** This utility requires a session token generated on your backend server using your CDP API keys. The session token encapsulates user addresses, supported assets, and client IP.

**Note:** Restricting assets and addresses are done during session token creation on your backend.

See [Session Token Authentication](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication) for implementation details.

</Info>

## Usage

<CodeGroup>
```tsx code
import { getOnrampBuyUrl } from '@coinbase/onchainkit/fund';

// First, generate a session token on your backend server
// See: https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication
const sessionToken = 'YOUR_SESSION_TOKEN';

const onrampBuyUrl = getOnrampBuyUrl({
sessionToken,
presetFiatAmount: 20,
fiatCurrency: 'USD',
redirectUrl: 'https://yourapp.com/onramp-return?param=foo',
});

````

```json return value
'https://pay.coinbase.com/buy/select-asset?sessionToken=YOUR_SESSION_TOKEN&fiatCurrency=USD&presetFiatAmount=20&redirectUrl=https%3A%2F%2Fyourapp.com%2Fonramp-return%3Fparam%3Dfoo'
````

</CodeGroup>

## Returns

`string` - Returns a full Coinbase Onramp URL that you can redirect your users to, or open in a popup.

## Parameters

[`GetOnrampUrlParams`](/onchainkit/fund/types#getonrampurlparams)

## Session Token Generation

Session tokens must be generated on your backend server using the CDP API. The token encapsulates:

- User wallet addresses
- Supported assets and blockchains
- Client IP address

For complete implementation details, see the [Session Token Authentication Guide](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication).
